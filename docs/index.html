<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8" /><title>Anders Murphy</title><meta content="
base-uri    &apos;self&apos;;
form-action &apos;self&apos;;
default-src &apos;none&apos;;
script-src  &apos;self&apos;
https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/
&apos;sha256-nP0EI9B9ad8IoFUti2q7EQBabcE5MS5v0nkvRfUbYnM=&apos;;
img-src     &apos;self&apos;;
font-src    &apos;self&apos;;
style-src   &apos;self&apos;
" http-equiv="Content-Security-Policy" /><meta content="text/html; charset=UTF-8" http-equiv="content-type" /><link href="https://andersmurphy.com/styles.css" rel="stylesheet" type="text/css" /><link href="https://andersmurphy.com/theme.css" rel="stylesheet" type="text/css" /><link href="https://andersmurphy.com/nord.css" rel="stylesheet" /><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/clojure.min.js"></script><script>hljs.initHighlightingOnLoad();</script><link href="https://andersmurphy.com/assets/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144" /><link href="https://andersmurphy.com/assets/favicon.ico" rel="shortcut icon" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><meta content="A blog mostly about software development." name="description" /></head><body><div class="sidebar"><div class="container sidebar-sticky"><div class="sidebar-about"><img alt="portrait" class="portrait" src="https://andersmurphy.com/assets/anderspixel.png" /><h1><a href="https://andersmurphy.com">Anders Murphy</a></h1><p class="lead">A blog mostly about functional programming</p></div><nav class="sidebar-nav"><a class="sidebar-nav-item" href="https://github.com/andersmurphy">Github</a><a class="sidebar-nav-item" href="https://twitter.com/anders_murphy">Twitter</a><a class="sidebar-nav-item" href="https://uk.linkedin.com/in/anders-murphy-76457b3a">LinkedIn</a><a class="sidebar-nav-item" href="https://andersmurphy.com/feed.xml">RSS</a></nav><p>Â© 2015-2021 Anders Murphy</p></div></div><div class="content container"><div class="posts"><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2020/12/30/clojure-cond-merge-revisited.html">Clojure: cond-merge revisited</a></h1><time class="post-date" datetime="2020-12-30T00:00:00+00:00">30 Dec 2020</time><p>In <a href='https://andersmurphy.com/2020/12/27/clojure-cond-deep-merge-remove-nils-and-the-shape-of-data.html'>this post</a> we created a macro called <code>cond-merge</code> to conditionally associate in values to a map. In this post we will revisit some of the limitations of <code>cond-merge</code> when it comes to nested conditionals and conditionals that return maps that can lead to overwriting data rather than merging data.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2020/12/29/clojure-adding-dissoc-in-to-the-cond-merge-macro.html">Clojure: adding dissoc-in to our cond-merge macro</a></h1><time class="post-date" datetime="2020-12-29T00:00:00+00:00">29 Dec 2020</time><p>In <a href='https://andersmurphy.com/2020/12/27/clojure-cond-deep-merge-remove-nils-and-the-shape-of-data.html'>the previous post</a> we created a macro called <code>cond-merge</code> to conditionally associate in values to a map. In this post we will cover adding disassociation (removal of items) to this macro.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2020/12/27/clojure-cond-deep-merge-remove-nils-and-the-shape-of-data.html">Clojure: cond->, deep-merge, remove-nils and the shape of data</a></h1><time class="post-date" datetime="2020-12-27T00:00:00+00:00">27 Dec 2020</time><p>This article will cover various ways of conditionally hydrating/decorating an existing map with additional data. We'll explore different approaches and how they affect readability of the code as well as performance.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2020/12/13/clojure-string-similarity.html">Clojure: string similarity</a></h1><time class="post-date" datetime="2020-12-13T00:00:00+00:00">13 Dec 2020</time><p>Sometimes you want to compare strings for similarity. To do this we can use <a href='https://en.wikipedia.org/wiki/Cosine_similarity'>cosine similarity</a> to determine how similar two strings are to each other.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2020/11/11/clojure-adding-compile-time-errors-with-macros.html">Clojure: adding compile time errors with macros</a></h1><time class="post-date" datetime="2020-11-11T00:00:00+00:00">11 Nov 2020</time><p>Clojure is a dynamic language. But, something you might not know is that unlike a lot of other dynamic languages it's not an interpreted language it's actually compiled. Even when programming at the REPL the Java Virtual Machine's (JVM) Just In Time (JIT) compiler compiles Clojure code to byte code before evaluating it. Combining this with macros which are evaluated at compile time allows us to add compile time errors to our code.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2020/10/11/clojure-previous-current-and-next.html">Clojure: previous, current and next</a></h1><time class="post-date" datetime="2020-10-11T00:00:00+00:00">11 Oct 2020</time><p>This article will cover a common pattern of iterating over a list of items whilst keeping a reference to the previous, current and next item.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2020/09/06/clojure-jdbc-using-any-and-all-as-an-alternative-to-in.html">Clojure: jdbc using any and all as alternatives to in</a></h1><time class="post-date" datetime="2020-09-06T00:00:00+00:00">06 Sep 2020</time><p><a href='https://github.com/seancorfield/next-jdbc'>next-jdbc</a> uses parameterised queries to prevent SQL Injections. These queries can take parameters by passing question marks (?) in the query and then by replacing each question mark index with required values. However this can make some sql operators more challenging to use programmatically. In particular <code>in&#40;?,?,?&#41;</code>. In this post we cover using <a href='https://www.postgresql.org/'>postgresql</a>'s <code>any&#40;?&#41;</code> and <code>all&#40;?&#41;</code> to get around this.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2020/08/20/emacs-setting-up-apheleia-to-use-zprint.html">Emacs: setting up Apheleia to use Prettier and Zprint</a></h1><time class="post-date" datetime="2020-08-20T00:00:00+00:00">20 Aug 2020</time><p><a href='https://github.com/raxod502/apheleia'>Apheleia</a> is an awesome Emacs package for formatting code quickly using external command line tools like <code>prettier</code>. Not only is it fast but it also does a great job at maintaining point position relative to its surroundings (which has been one of my minor frustrations with other Emacs formatters) . Its also language agnostic so you can use it with any language that has a command line formatting tool. This post will cover setting up apheleia with <a href='https://github.com/prettier/prettier'>prettier</a> (for JavaScript) and <a href='https://github.com/kkinnear/zprint'>zprint</a> (for Clojure).</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2020/08/18/homebrew-write-your-own-brew-formula.html">Homebrew: write your own brew formula</a></h1><time class="post-date" datetime="2020-08-18T00:00:00+00:00">18 Aug 2020</time><p><a href='https://www.graalvm.org/'>GraalVM</a> is a recent development in the Java ecosystem that allows you to generate native binaries for applications that run on the Java Virtual Machine (JVM). One of the main advantages of this is that it gets around the JVMs slow startup time which is a problem for short lived programs that are run often. This has lead to a projects like <a href='https://github.com/kkinnear/zprint/releases/tag/1.0.0'>zprint releasing native binaries</a>. This is great but, it doesn't give you a nice reproducible way to install/manage/uninstall these executables. For that we want a package manager like <a href='https://brew.sh/'>homebrew</a>.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2020/08/16/clojure-code-formatting-pre-commit-hook-with-zprint.html">Clojure: code formatting pre-commit hook with zprint</a></h1><time class="post-date" datetime="2020-08-16T00:00:00+00:00">16 Aug 2020</time><p>As a codebase and the team working on it grows, it helps to keep the formatting of a project consistent. This makes the code easier to read and removes the need for unnecessary formatting debates on pull requests. One way to achieve this is to add a formatting check to your continuous integration pipeline. The problem with this solution is that it can add unnecessary overhead. You push a commit, the continuous integration job fails due to incorrect formatting, you fix the formatting issue, and push a new commit. Why can't the formatter just fix the issue itself and save you the trouble? This article will cover setting up <a href='https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks'>pre-commit</a> to automatically format Clojure code with <a href='https://github.com/kkinnear/zprint'>zprint</a> to achieve a more streamlined workflow.</p></article></div><div class="pagination"><div class="pagination-item"><a href="https://andersmurphy.com/page/2.html">-></a></div></div></div></body></html>
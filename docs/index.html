<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8" /><title>Anders Murphy</title><meta content="
base-uri    &apos;self&apos;;
form-action &apos;self&apos;;
default-src &apos;none&apos;;
script-src  &apos;self&apos;;
img-src     &apos;self&apos;;
font-src    &apos;self&apos;;
connect-src &apos;self&apos;;
style-src   &apos;self&apos;
" http-equiv="Content-Security-Policy" /><meta content="text/html; charset=UTF-8" http-equiv="content-type" /><link href="https://andersmurphy.com/styles.css" rel="stylesheet" type="text/css" /><link href="https://andersmurphy.com/theme.css" rel="stylesheet" type="text/css" /><link href="https://andersmurphy.com/assets/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144" /><link href="https://andersmurphy.com/assets/favicon.ico" rel="shortcut icon" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><meta content="A blog mostly about software development." name="description" /></head><body><div class="sidebar"><div class="container sidebar-sticky"><div class="sidebar-about"><img alt="portrait" class="portrait" height="120" src="https://andersmurphy.com/assets/anderspixel.png" width="60" /><h1><a href="https://andersmurphy.com/">Anders Murphy</a></h1><p class="lead">A blog mostly about functional programming</p></div><nav class="sidebar-nav"><a class="sidebar-nav-item" href="https://github.com/andersmurphy">Github</a><a class="sidebar-nav-item" href="https://twitter.com/anders_murphy">Twitter</a><a class="sidebar-nav-item" href="https://uk.linkedin.com/in/anders-murphy-76457b3a">LinkedIn</a><a class="sidebar-nav-item" href="https://andersmurphy.com/feed.xml">RSS</a></nav></div></div><div class="content container"><div class="posts"><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2022/06/14/clojure-sending-emails-with-postal-and-gmail-smtp.html">Clojure: sending emails with postal and Gmail SMTP</a></h1><time class="post-date" datetime="2022-06-14T00:00:00+00:00">14 Jun 2022</time><p>While services like <a href='https://sendgrid.com'>SendGrid</a> are easy to use and offer a plethora of features like bounce and open rate monitoring, they are not cheapest option. Gmail's SMTP service on the other hand, although no where near as feature rich is more affordable. In this post we will cover setting up Gmail SMTP with <a href='https://github.com/drewr/postal'>postal</a>.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2022/05/22/clojure-pretty-print-strings.html">Clojure: pretty print strings</a></h1><time class="post-date" datetime="2022-05-22T00:00:00+00:00">22 May 2022</time><p><code>clojure.pprint/pprint</code> can be used to print Clojure data structures in a pleasing, easy-to-understand format. However, sometimes you are not printing directly to <code>&#42;out&#42;</code>, for example when using third party logging libraries/services. Thankfully, we can also use <code>clojure.pprint/pprint</code> generate a pretty string by wrapping it in <code>with-out-str</code>.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2022/05/02/clojure-extend-honeysql-to-support-postgres-alter-column-and-add-constraint.html">Clojure: extend honeysql to support postgres 'alter column' and 'add constraint'</a></h1><time class="post-date" datetime="2022-05-02T00:00:00+00:00">02 May 2022</time><p><a href='https://github.com/seancorfield/honeysql'>Honeysql</a> is an amazing library that lets you write SQL using clojure data structures. This makes SQL much more composable as you no longer need to smash strings together. That being said, when using it with <a href='https://www.postgresql.org/'>postgresql</a> there are some features that don't work out of the box. Thankfully, honeysql is very easy to extend. This post will show you how to add support for <code>alter column</code> and  <code>add constraint</code>.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2022/03/27/clojure-removing-namespace-from-keywords-in-response-middleware.html">Clojure: removing namespace from keywords in response middleware</a></h1><time class="post-date" datetime="2022-03-27T00:00:00+00:00">27 Mar 2022</time><p>Namespaced keywords let you add a namespace to a keyword <code>:id</code> -> <code>:user/id</code>, this is a really nice feature that prevents collisions when merging two maps. For example merging  <code>{:account/id &quot;foo&quot;}</code> with  <code>{:user/id &quot;bar&quot;}&#41;</code> would give you <code>{:account/id &quot;foo&quot; :user/id &quot;bar&quot;}</code>. This lets you avoid unnecessary data nesting and keep your data flat. However, by the time this data gets to the edge of your system, where it meets something that expects json, you will often want to remove these namespaces. This post shows you how to write a middleware that automates the removal of namespaces from keywords.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2022/03/20/clojure-making-missing-environment-variables-fail-at-compile-time.html">Clojure: making missing environment variables fail at compile time</a></h1><time class="post-date" datetime="2022-03-20T00:00:00+00:00">20 Mar 2022</time><p>Have you ever deployed something to production only to have it break because of a missing environment variable? You can eliminate this risk with a simple macro.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2022/03/19/heroku-buildpack-for-clojure-tools.html">Heroku: buildpack for Clojure tools</a></h1><time class="post-date" datetime="2022-03-19T00:00:00+00:00">19 Mar 2022</time><p>Over the past 4 years I've had the fortune of working full time in Clojure. The backend for the <a href='https://apps.apple.com/US/app/id1436692125?mt=8'>Relish</a> mobile app is built in Clojure. It runs on <a href='https://www.heroku.com/home'>Heroku</a> and we use <a href='https://leiningen.org/'>lein</a> as our build tool. This has been a great development experience. But, for the next Clojure project I wanted to try <a href='https://clojure.org/guides/deps_and_cli'>tools.deps</a> and <a href='https://clojure.org/guides/tools_build'>tools.build</a>. Unfortunately, there isn't an official Heroku buildpack and none of the unofficial alternatives were quite what I was looking for. In the end I decided to roll my own to get comfortable with Heroku's build pack API.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2021/12/12/clojure-compiling-java-source-with-tools-build.html">Clojure: compiling java source with tools.build</a></h1><time class="post-date" datetime="2021-12-12T00:00:00+00:00">12 Dec 2021</time><p>Recently I stumbled over an old Java project from 2011. I wanted to see if I could get it to run. However, the original program had a bunch of IDE related build files that I no longer understood. What if I used Clojure to build the project? The fruit of that journey is covered in this blog post.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2021/12/04/clojure-check-if-instant-happened-today-at-timezone.html">Clojure: check if instant happened today at timezone</a></h1><time class="post-date" datetime="2021-12-04T00:00:00+00:00">04 Dec 2021</time><p>Say you are making a digital advent calendar app. You want users to get a special reward on the days that they open your app. But only once per day and only on the days they open the app. This sounds straight forward. What about time zones? What about users who open the app on the 1st of December at 23:55 and then on the 2nd of December at 00:03? Time is tricky.</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2021/11/30/emacs-the-joy-of-reducing-workflow-friction-with-elisp.html">Emacs: the joy of reducing workflow friction with elisp</a></h1><time class="post-date" datetime="2021-11-30T00:00:00+00:00">30 Nov 2021</time><p>Emacs is an interactive, self-documenting and extensible elisp interpreter. This makes it surprisingly enjoyable to extend. It goes something like this: you notice some friction when using a command, you use Emacs' self-documenting features to learn about the command, you investigate the source, you write some elisp, you evaluate it and you try the new and improved command out (all without ever having to restart Emacs).</p></article><article class="post"><h1 class="post-title"><a href="https://andersmurphy.com/2021/11/14/emacs-building-from-source-on-macos.html">Emacs: building from source on macOS</a></h1><time class="post-date" datetime="2021-11-14T00:00:00+00:00">14 Nov 2021</time><p>I've always wanted to build Emacs from source as it lets you try new features. Native compilation in particular was something I wanted to explore. Native compilation leverages <code>libgccjit</code> to compile Emacs lisp code to native code making Emacs very snappy.</p></article></div><div class="pagination"><div class="pagination-item"><a href="https://andersmurphy.com/page/2.html">-></a></div></div><div class="footer"><p>Â© 2015-2022 Anders Murphy</p></div></div></body></html>